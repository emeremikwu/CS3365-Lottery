<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/styles.css" />
    <link rel="icon" href="favcon.jpg" type="image/jpeg" />
    <title>Your Basic Website - Registration</title>
    <style>
      registration-form {
        max-width: 400px;
        width: 100%;
        padding: 20px;
        box-sizing: border-box;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: rgba(
          255,
          255,
          255,
          0.9
        ); /* White background with some transparency */
      }

      label {
        display: block;
        margin-bottom: 8px;
      }

      input {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        box-sizing: border-box;
      }

      .registration-button {
        background-color: #4caf50;
        color: #fff;
        padding: 10px 15px;
        border: none;
        cursor: pointer;
        border-radius: 8px;
      }

      .registration-button:hover {
        background-color: #45a049;
      }

      .error-message {
        color: red;
      }
    </style>
  </head>

  <body>
    <header>
      <a href="index.html">
        <img src="images/TLlogo.svg" alt="TL Logo" />
      </a>
    </header>

    <div class="gray-bar">
      <nav>
        <a href="browse_tickets.html">Browse Lottery Tickets</a>
        <a href="winning_numbers.html">Winning Numbers</a>
        <a href="profile.html">Profile</a>
        <a href="order_history.html">Order History</a>

        <div class="user-actions">
          <a href="login.html" class="bold">Login</a>
          <span>/</span>
          <a href="registration.html" class="bold">Register</a>
        </div>
        <a href="images/shopping-cart.png" title="Smart Cart Icons" target="_blank">
          <img class="Shopping" src=images/shopping-cart.png alt="Shopping Cart" />
        </a>
      </nav>
    </div>

    <section>
      <registration-form id="registrationForm" method="POST">
        <h2>Registration</h2>
        <form id="registrationForm">
          <label for="first_name">First Name:</label>
          <input type="text" id="first_name" name="first_name" required />

          <label for="last_name">Last Name:</label>
          <input type="text" id="last_name" name="last_name" required />

          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required />

          <label for="address">Home Address:</label>
          <input type="text" id="address" name="address" required />

          <label for="city">City:</label>
          <input type="text" id="city" name="city" required />

          <label for="state">State:</label>
          <input type="text" id="state" name="state" required />

          <label for="phone">Phone number:</label>
          <input type="tel" id="phone" name="phone" required />

          <label for="password">Create Password:</label>
          <input type="password" id="password" name="password" required />

          <button class="registration-button" type="button" onclick="register()">Register</button>

          <div class="login-link">
            <p>Already have an account? <a href="login.html">Login here</a></p>
          </div>
        </form>

        <div id="error-message" class="error-message"></div>
      </registration-form>
    </section>

   

    <script>
      function register() {
        var formData = {
          first_name: document.getElementById("first_name").value,
          last_name: document.getElementById("last_name").value,
          email: document.getElementById("email").value,
          address: document.getElementById("address").value,
          city: document.getElementById("city").value,
          state: document.getElementById("state").value,
          phone: document.getElementById("phone").value,
          password: document.getElementById("password").value,
        };

        // Convert the form data to a JSON string
        var jsonData = JSON.stringify(formData);

        // Create a Blob with the JSON data
        var blob = new Blob([jsonData], { type: "application/json" });

        // Create a link to the Blob
        var link = document.createElement("a");
        link.href = window.URL.createObjectURL(blob);
        link.download = "user_info.json";

        // Append the link to the body and click it programmatically
        document.body.appendChild(link);
        link.click();

        // Remove the link from the body
        document.body.removeChild(link);

        // Redirect to the after registration page
        window.location.href = "afterregistration.html";
      }
    </script>
    

    <footer>
      <p>
        <p>&copy; 2023 Texas Lottery. All rights reserved.</p>
      </p>
    </footer>

   
  </body>
</html>
